(function(g){var window=this;'use strict';var u34=function(r){r.publish("autonavvisibility")},DXs=function(r,Q){r.I3("onAutonavCoundownStarted",Q)},eG4=function(r){var Q,S,B;
return r==null?void 0:(Q=r.playerOverlays)==null?void 0:(S=Q.playerOverlayRenderer)==null?void 0:(B=S.autoplay)==null?void 0:B.playerOverlayAutoplayRenderer},ia=function(r){var Q=r.D(),S=Q.W;
g.d.call(this,{G:"a",Z:"ytp-autonav-suggestion-card",N:{href:"{{url}}",target:S?Q.C:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},B:[{G:"div",wq:["ytp-autonav-endscreen-upnext-thumbnail","ytp-autonav-thumbnail-small"],N:{style:"{{background}}"},B:[{G:"div",N:{"aria-label":"{{timestamp}}"},wq:["ytp-autonav-timestamp"],Sw:"{{duration}}"},{G:"div",wq:["ytp-autonav-live-stamp"],Sw:"Live"},{G:"div",
wq:["ytp-autonav-upcoming-stamp"],Sw:"Upcoming"},{G:"div",Z:"ytp-autonav-list-overlay",B:[{G:"div",Z:"ytp-autonav-mix-text",Sw:"Mix"},{G:"div",Z:"ytp-autonav-mix-icon"}]}]},{G:"div",wq:["ytp-autonav-endscreen-upnext-title","ytp-autonav-title-card"],Sw:"{{title}}"},{G:"div",wq:["ytp-autonav-endscreen-upnext-author","ytp-autonav-author-card"],Sw:"{{author}}"},{G:"div",wq:["ytp-autonav-endscreen-upnext-author","ytp-autonav-view-and-date-card"],Sw:"{{views_and_publish_time}}"}]});this.T=r;this.suggestion=
null;this.j=S;this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress)},Ke=function(r,Q){Q=Q===void 0?!1:Q;
g.d.call(this,{G:"div",Z:"ytp-autonav-endscreen-countdown-overlay"});var S=this;this.J=Q;this.cancelCommand=this.Y=void 0;this.S=0;this.container=new g.d({G:"div",Z:"ytp-autonav-endscreen-countdown-container"});g.u(this,this.container);this.container.k7(this.element);Q=r.D();var B=Q.W;this.T=r;this.suggestion=null;this.onVideoDataChange("newdata",this.T.getVideoData());this.L(r,"videodatachange",this.onVideoDataChange);this.j=new g.d({G:"div",Z:"ytp-autonav-endscreen-upnext-container",N:{"aria-label":"{{aria_label}}",
"data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},B:[{G:"div",Z:"ytp-autonav-endscreen-upnext-header"},{G:"div",Z:"ytp-autonav-endscreen-upnext-alternative-header",Sw:"{{autoplayAlternativeHeader}}"},{G:"a",Z:"ytp-autonav-endscreen-link-container",N:{href:"{{url}}",target:B?Q.C:""},B:[{G:"div",Z:"ytp-autonav-endscreen-upnext-thumbnail",N:{style:"{{background}}"},B:[{G:"div",N:{"aria-label":"{{timestamp}}"},wq:["ytp-autonav-timestamp"],
Sw:"{{duration}}"},{G:"div",wq:["ytp-autonav-live-stamp"],Sw:"Live"},{G:"div",wq:["ytp-autonav-upcoming-stamp"],Sw:"Upcoming"}]},{G:"div",Z:"ytp-autonav-endscreen-video-info",B:[{G:"div",Z:"ytp-autonav-endscreen-premium-badge"},{G:"div",Z:"ytp-autonav-endscreen-upnext-title",Sw:"{{title}}"},{G:"div",Z:"ytp-autonav-endscreen-upnext-author",Sw:"{{author}}"},{G:"div",Z:"ytp-autonav-view-and-date",Sw:"{{views_and_publish_time}}"},{G:"div",Z:"ytp-autonav-author-and-view",Sw:"{{author_and_views}}"}]}]}]});
g.u(this,this.j);this.j.k7(this.container.element);B||this.L(this.j.uA("ytp-autonav-endscreen-link-container"),"click",this.nH);this.T.createClientVe(this.container.element,this,115127);this.T.createClientVe(this.j.uA("ytp-autonav-endscreen-link-container"),this,115128);this.overlay=new g.d({G:"div",Z:"ytp-autonav-overlay"});g.u(this,this.overlay);this.overlay.k7(this.container.element);this.V=new g.d({G:"div",Z:"ytp-autonav-endscreen-button-container"});g.u(this,this.V);this.V.k7(this.container.element);
this.cancelButton=new g.d({G:"button",wq:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-cancel-button",Q.K("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],N:{"aria-label":"Cancel auto-play"},Sw:"Cancel"});g.u(this,this.cancelButton);this.cancelButton.k7(this.V.element);this.cancelButton.listen("click",this.cA,this);this.T.createClientVe(this.cancelButton.element,this,115129);this.playButton=new g.d({G:"a",wq:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-play-button",
Q.K("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],N:{href:"{{url}}",role:"button","aria-label":"Play next video"},Sw:"Play now"});g.u(this,this.playButton);this.playButton.k7(this.V.element);this.playButton.listen("click",this.nH,this);this.T.createServerVe(this.playButton.element,this.playButton,!0);(Q=this.T.getVideoData())&&gWZ(this,Q);this.W=new g.D9(function(){UXM(S)},500);
g.u(this,this.W);this.HF();this.L(r,"autonavvisibility",this.HF);this.T.K("web_autonav_color_transition")&&(this.L(r,"autonavchange",this.VI),this.L(r,"onAutonavCoundownStarted",this.XOm))},la=function(r){var Q=r.T.x$(!0,r.T.isFullscreen());
g.S1(r.container.element,"ytp-autonav-endscreen-small-mode",r.lz(Q));g.S1(r.container.element,"ytp-autonav-endscreen-is-premium",!!r.suggestion&&!!r.suggestion.CU7);g.S1(r.T.getRootNode(),"ytp-autonav-endscreen-cancelled-state",!r.T.YU());g.S1(r.T.getRootNode(),"countdown-running",r.Ys());g.S1(r.container.element,"ytp-player-content",r.T.YU());g.D7(r.overlay.element,{width:Q.width+"px"});if(!r.Ys()){r.T.YU()?dXg(r,Math.round(Oi4(r)/1E3)):dXg(r);Q=!!r.suggestion&&!!r.suggestion.cI;var S=r.T.YU()||
!Q;g.S1(r.container.element,"ytp-autonav-endscreen-upnext-alternative-header-only",!S&&Q);g.S1(r.container.element,"ytp-autonav-endscreen-upnext-no-alternative-header",S&&!Q);r.V.zt(r.T.YU());g.S1(r.element,"ytp-enable-w2w-color-transitions",RGI(r))}},UXM=function(r){var Q=Oi4(r),S=Math,B=S.min;
var k=r.S?Date.now()-r.S:0;S=B.call(S,k,Q);dXg(r,Math.ceil((Q-S)/1E3));Q-S<=500&&r.Ys()?r.select(!0):r.Ys()&&r.W.start()},Oi4=function(r){if(r.T.isFullscreen()){var Q;
r=(Q=r.T.getVideoData())==null?void 0:Q.Fc;return r===-1||r===void 0?8E3:r}return r.T.xQ()>=0?r.T.xQ():g.OQ(r.T.D().experiments,"autoplay_time")||1E4},gWZ=function(r,Q){Q=Q.getWatchNextResponse();
var S,B;Q=(S=eG4(Q))==null?void 0:(B=S.nextButton)==null?void 0:B.buttonRenderer;r.Y=Q==null?void 0:Q.navigationEndpoint;S=Q==null?void 0:Q.trackingParams;r.playButton&&S&&r.T.setTrackingParams(r.playButton.element,S)},RGI=function(r){var Q;
return!((Q=r.T.getVideoData())==null||!Q.watchToWatchTransitionRenderer)},dXg=function(r,Q){Q=Q===void 0?-1:Q;
r=r.j.uA("ytp-autonav-endscreen-upnext-header");g.tC(r);if(Q>=0){Q=String(Q);var S="Up next in $SECONDS".match(RegExp("\\$SECONDS","gi"))[0],B="Up next in $SECONDS".indexOf(S);if(B>=0){r.appendChild(g.Wy("Up next in $SECONDS".slice(0,B)));var k=g.Yx("span");g.C7(k,"ytp-autonav-endscreen-upnext-header-countdown-number");g.pj(k,Q);r.appendChild(k);r.appendChild(g.Wy("Up next in $SECONDS".slice(B+S.length)));return}}g.pj(r,"Up next")},ne=function(r,Q){g.d.call(this,{G:"div",
wq:["html5-endscreen","ytp-player-content",Q||"base-endscreen"]});this.created=!1;this.player=r},Af=function(r){g.d.call(this,{G:"div",
wq:["ytp-upnext","ytp-player-content"],N:{"aria-label":"{{aria_label}}"},B:[{G:"div",Z:"ytp-cued-thumbnail-overlay-image",N:{style:"{{background}}"}},{G:"span",Z:"ytp-upnext-top",B:[{G:"span",Z:"ytp-upnext-header",Sw:"Up Next"},{G:"span",Z:"ytp-upnext-title",Sw:"{{title}}"},{G:"span",Z:"ytp-upnext-author",Sw:"{{author}}"}]},{G:"a",Z:"ytp-upnext-autoplay-icon",N:{role:"button",href:"{{url}}","aria-label":"Play next video"},B:[{G:"svg",N:{height:"100%",version:"1.1",viewBox:"0 0 72 72",width:"100%"},
B:[{G:"circle",Z:"ytp-svg-autoplay-circle",N:{cx:"36",cy:"36",fill:"#fff","fill-opacity":"0.3",r:"31.5"}},{G:"circle",Z:"ytp-svg-autoplay-ring",N:{cx:"-36",cy:"36","fill-opacity":"0",r:"33.5",stroke:"#FFFFFF","stroke-dasharray":"211","stroke-dashoffset":"-211","stroke-width":"4",transform:"rotate(-90)"}},{G:"path",Z:"ytp-svg-fill",N:{d:"M 24,48 41,36 24,24 V 48 z M 44,24 v 24 h 4 V 24 h -4 z"}}]}]},{G:"span",Z:"ytp-upnext-bottom",B:[{G:"span",Z:"ytp-upnext-cancel"},{G:"span",Z:"ytp-upnext-paused",
Sw:"Auto-play is paused"}]}]});this.api=r;this.cancelButton=null;this.Y=this.uA("ytp-svg-autoplay-ring");this.S=this.notification=this.j=this.suggestion=null;this.W=new g.D9(this.xo,5E3,this);this.V=0;var Q=this.uA("ytp-upnext-cancel");this.cancelButton=new g.d({G:"button",wq:["ytp-upnext-cancel-button","ytp-button"],N:{tabindex:"0","aria-label":"Cancel auto-play"},Sw:"Cancel"});g.u(this,this.cancelButton);this.cancelButton.listen("click",this.pk,this);this.cancelButton.k7(Q);this.cancelButton&&this.api.createClientVe(this.cancelButton.element,
this,115129);g.u(this,this.W);this.api.createClientVe(this.element,this,18788);Q=this.uA("ytp-upnext-autoplay-icon");this.L(Q,"click",this.Se);this.api.createClientVe(Q,this,115130);this.N9();this.L(r,"autonavvisibility",this.N9);this.L(r,"mdxnowautoplaying",this.YDO);this.L(r,"mdxautoplaycanceled",this.UpO);g.S1(this.element,"ytp-upnext-mobile",this.api.D().V)},HiI=function(r,Q){if(Q)return Q;
if(r.api.isFullscreen()){var S;r=(S=r.api.getVideoData())==null?void 0:S.Fc;return r===-1||r===void 0?8E3:r}return r.api.xQ()>=0?r.api.xQ():g.OQ(r.api.D().experiments,"autoplay_time")||1E4},ClO=function(r,Q){Q=HiI(r,Q);
var S=Math,B=S.min;var k=(0,g.xa)()-r.V;S=B.call(S,k,Q);Q=Q===0?1:Math.min(S/Q,1);r.Y.setAttribute("stroke-dashoffset",""+-211*(Q+1));Q>=1&&r.Ys()&&r.api.getPresentingPlayerType()!==3?r.select(!0):r.Ys()&&r.j.start()},YI=function(r){ne.call(this,r,"autonav-endscreen");
this.overlay=this.videoData=null;this.table=new g.d({G:"div",Z:"ytp-suggestion-panel",B:[{G:"div",wq:["ytp-autonav-endscreen-upnext-header","ytp-autonav-endscreen-more-videos"],Sw:"More videos"}]});this.X=new g.d({G:"div",Z:"ytp-suggestions-container"});this.videos=[];this.S=null;this.Y=this.J=!1;this.V=new Ke(this.player);g.u(this,this.V);this.V.k7(this.element);r.getVideoData().MC?this.j=this.V:(this.j=new Af(r),g.Ga(this.player,this.j.element,4),g.u(this,this.j));this.overlay=new g.d({G:"div",
Z:"ytp-autonav-overlay-cancelled-state"});g.u(this,this.overlay);this.overlay.k7(this.element);this.W=new g.tj(this);g.u(this,this.W);g.u(this,this.table);this.table.k7(this.element);this.table.show();g.u(this,this.X);this.X.k7(this.table.element);this.hide()},WL=function(r){var Q=r.YU();
Q!==r.Y&&(r.Y=Q,u34(r.player),r.Y?(r.V!==r.j&&r.V.hide(),r.table.hide()):(r.V!==r.j&&r.V.show(),r.table.show()))},VNM=function(r){ne.call(this,r,"videowall-endscreen");
var Q=this;this.T=r;this.stills=[];this.S=this.videoData=null;this.W=this.J=!1;this.X=null;g.cP(this.element,"modern-videowall-endscreen");this.V=new g.tj(this);g.u(this,this.V);this.Y=new g.D9(function(){g.cP(Q.element,"ytp-show-tiles")},0);
g.u(this,this.Y);this.table=new g.cj({G:"div",Z:"ytp-modern-endscreen-content"});g.u(this,this.table);this.table.k7(this.element);r.getVideoData().MC?this.j=new Ke(r,!0):this.j=new Af(r);g.u(this,this.j);g.Ga(this.player,this.j.element,4);r.createClientVe(this.element,this,158789);this.hide()},ba=function(r){return g.uG(r.player)&&r.QG()&&!r.S},tf=function(r){var Q=r.YU();
Q!==r.J&&(r.J=Q,u34(r.player))},cSs=function(r){ne.call(this,r,"subscribecard-endscreen");
this.j=new g.d({G:"div",Z:"ytp-subscribe-card",B:[{G:"img",Z:"ytp-author-image",N:{src:"{{profilePicture}}"}},{G:"div",Z:"ytp-subscribe-card-right",B:[{G:"div",Z:"ytp-author-name",Sw:"{{author}}"},{G:"div",Z:"html5-subscribe-button-container"}]}]});g.u(this,this.j);this.j.k7(this.element);var Q=r.getVideoData();this.subscribeButton=new g.Qw("Subscribe",null,"Unsubscribe",null,!0,!1,Q.fC,Q.subscribed,"trailer-endscreen",null,r,!1);g.u(this,this.subscribeButton);this.subscribeButton.k7(this.j.uA("html5-subscribe-button-container"));
this.L(r,"videodatachange",this.vO);this.vO();this.hide()},PL=function(r){var Q=r.D(),S=g.Aj||g.fF?{style:"will-change: opacity"}:void 0,B=Q.W,k=["ytp-videowall-still"];
Q.V&&k.push("ytp-videowall-show-text");g.d.call(this,{G:"a",wq:k,N:{href:"{{url}}",target:B?Q.C:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}"},B:[{G:"div",Z:"ytp-videowall-still-image",N:{style:"{{background}}"}},{G:"span",Z:"ytp-videowall-still-info",N:{"aria-hidden":"true"},B:[{G:"span",Z:"ytp-videowall-still-info-bg",B:[{G:"span",Z:"ytp-videowall-still-info-content",N:S,B:[{G:"span",Z:"ytp-videowall-still-info-title",Sw:"{{title}}"},
{G:"span",Z:"ytp-videowall-still-info-author",Sw:"{{author_and_views}}"},{G:"span",Z:"ytp-videowall-still-info-live",Sw:"Live"},{G:"span",Z:"ytp-videowall-still-info-duration",Sw:"{{duration}}"}]}]}]},{G:"span",wq:["ytp-videowall-still-listlabel-regular","ytp-videowall-still-listlabel"],N:{"aria-hidden":"true"},B:[{G:"span",Z:"ytp-videowall-still-listlabel-icon"},"Playlist",{G:"span",Z:"ytp-videowall-still-listlabel-length",B:[" (",{G:"span",Sw:"{{playlist_length}}"},")"]}]},{G:"span",wq:["ytp-videowall-still-listlabel-mix",
"ytp-videowall-still-listlabel"],N:{"aria-hidden":"true"},B:[{G:"span",Z:"ytp-videowall-still-listlabel-mix-icon"},"Mix",{G:"span",Z:"ytp-videowall-still-listlabel-length",Sw:" (50+)"}]}]});this.suggestion=null;this.V=B;this.api=r;this.j=new g.tj(this);g.u(this,this.j);this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress);this.j.L(r,"videodatachange",this.onVideoDataChange);r.createServerVe(this.element,this);this.onVideoDataChange()},xI=function(r){ne.call(this,r,"videowall-endscreen");
var Q=this;this.T=r;this.S=0;this.stills=[];this.W=this.videoData=null;this.Y=this.X=!1;this.C=null;this.V=new g.tj(this);g.u(this,this.V);this.J=new g.D9(function(){g.cP(Q.element,"ytp-show-tiles")},0);
g.u(this,this.J);var S=new g.d({G:"button",wq:["ytp-button","ytp-endscreen-previous"],N:{"aria-label":"Previous"},B:[g.i8()]});g.u(this,S);S.k7(this.element);S.listen("click",this.Fj,this);this.table=new g.cj({G:"div",Z:"ytp-endscreen-content"});g.u(this,this.table);this.table.k7(this.element);S=new g.d({G:"button",wq:["ytp-button","ytp-endscreen-next"],N:{"aria-label":"Next"},B:[g.KJ()]});g.u(this,S);S.k7(this.element);S.listen("click",this.yI,this);r.getVideoData().MC?this.j=new Ke(r,!0):this.j=
new Af(r);g.u(this,this.j);g.Ga(this.player,this.j.element,4);r.createClientVe(this.element,this,158789);this.hide()},jd=function(r){return g.uG(r.player)&&r.QG()&&!r.W},pe=function(r){var Q=r.YU();
Q!==r.X&&(r.X=Q,u34(r.player))},atZ=function(r,Q){g.d.call(this,{G:"button",
wq:["ytp-watch-on-youtube-button","ytp-button"],Sw:"{{content}}"});this.T=r;this.buttonType=this.buttonType=Q;this.iy();this.buttonType===2&&g.cP(this.element,"ytp-continue-watching-button");this.listen("click",this.onClick);this.listen("videodatachange",this.iy);this.zt(!0)},Eo=function(r){ne.call(this,r,"watch-again-on-youtube-endscreen");
this.watchButton=new atZ(r,1);g.u(this,this.watchButton);this.watchButton.k7(this.element);g.gFO(r)&&(this.j=new g.Bf(r),g.u(this,this.j),this.V=new g.d({G:"div",wq:["ytp-watch-again-on-youtube-endscreen-more-videos-container"],N:{tabIndex:"-1"},B:[this.j]}),g.u(this,this.V),this.j.k7(this.V.element),this.V.k7(this.element));r.createClientVe(this.element,this,156914);this.hide()},BJZ=function(r){g.mN.call(this,r);
var Q=this;this.endScreen=null;this.j=this.V=this.S=!1;this.listeners=new g.tj(this);g.u(this,this.listeners);var S=r.D();r.isEmbedsShortsMode()?this.endScreen=new Eo(r):rmg(r)?(this.S=!0,Q5n(this),this.j?this.endScreen=new YI(r):S.K("delhi_modern_endscreen")?this.endScreen=new VNM(r):this.endScreen=new xI(r)):S.tT?this.endScreen=new cSs(r):this.endScreen=new ne(r);g.u(this,this.endScreen);g.Ga(r,this.endScreen.element,4);SRZ(this);this.listeners.L(r,"videodatachange",this.onVideoDataChange,this);
this.listeners.L(r,g.Io("endscreen"),function(B){Q.onCueRangeEnter(B)});
this.listeners.L(r,g.GE("endscreen"),function(B){Q.onCueRangeExit(B)})},Q5n=function(r){var Q=r.player.getVideoData();
if(!Q||r.j===Q.gk&&r.V===Q.MC)return!1;r.j=Q.gk;r.V=Q.MC;return!0},rmg=function(r){r=r.D();
return r.hL&&!r.tT&&!r.disableOrganicUi},SRZ=function(r){r.player.Ya("endscreen");
var Q=r.player.getVideoData();Q=new g.qI(Math.max((Q.lengthSeconds-10)*1E3,0),0x8000000000000,{id:"preload",namespace:"endscreen"});var S=new g.qI(0x8000000000000,0x8000000000000,{id:"load",priority:8,namespace:"endscreen"});r.player.gr([Q,S])};
g.yL.prototype.xQ=g.kF(6,function(){return this.app.xQ()});
g.EG.prototype.xQ=g.kF(5,function(){return this.getVideoData().Xu});
g.FV.prototype.Jm=g.kF(4,function(r){this.U_().Jm(r)});
g.Ri.prototype.Jm=g.kF(3,function(r){this.jl!==r&&(this.jl=r,this.sL())});
g.p(ia,g.d);ia.prototype.select=function(){this.T.QK(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.kI||void 0)&&this.T.logClick(this.element)};
ia.prototype.onClick=function(r){g.Ax(r,this.T,this.j,this.suggestion.sessionData||void 0)&&this.select()};
ia.prototype.onKeyPress=function(r){switch(r.keyCode){case 13:case 32:r.defaultPrevented||(this.select(),r.preventDefault())}};g.p(Ke,g.d);g.x=Ke.prototype;g.x.EO=function(r){this.suggestion!==r&&(this.suggestion=r,g.K2(this.j,r),this.playButton.updateValue("url",this.suggestion.t3()),la(this))};
g.x.Ys=function(){return this.S>0};
g.x.z6=function(){this.Ys()||(this.S=Date.now(),UXM(this),DXs(this.T,Oi4(this)),g.S1(this.T.getRootNode(),"countdown-running",this.Ys()))};
g.x.YY=function(){this.Gu();UXM(this);var r=this.j.uA("ytp-autonav-endscreen-upnext-header");r&&g.pj(r,"Up next")};
g.x.Gu=function(){this.Ys()&&(this.W.stop(),this.S=0)};
g.x.select=function(r){this.T.nextVideo(!1,r===void 0?!1:r);this.Gu()};
g.x.nH=function(r){g.Ax(r,this.T)&&(r.currentTarget===this.playButton.element?this.T.logClick(this.playButton.element):r.currentTarget===this.j.uA("ytp-autonav-endscreen-link-container")&&(r=this.j.uA("ytp-autonav-endscreen-link-container"),this.T.logVisibility(r,!0),this.T.logClick(r)),this.Y?(this.T.I3("innertubeCommand",this.Y),this.Gu()):this.select())};
g.x.cA=function(){this.T.logClick(this.cancelButton.element);g.za(this.T,!0);this.cancelCommand&&this.T.I3("innertubeCommand",this.cancelCommand)};
g.x.onVideoDataChange=function(r,Q){gWZ(this,Q);r=Q.getWatchNextResponse();var S,B;r=(S=eG4(r))==null?void 0:(B=S.cancelButton)==null?void 0:B.buttonRenderer;this.cancelCommand=r==null?void 0:r.command};
g.x.XOm=function(r){if(RGI(this)){var Q=this.T.getVideoData().watchToWatchTransitionRenderer,S=Q==null?void 0:Q.fromColorPaletteDark;Q=Q==null?void 0:Q.toColorPaletteDark;if(S&&Q){var B=this.element;B.style.setProperty("--w2w-start-background-color",g.Fj(S.surgeColor));B.style.setProperty("--w2w-start-primary-text-color",g.Fj(S.primaryTitleColor));B.style.setProperty("--w2w-start-secondary-text-color",g.Fj(S.secondaryTitleColor));B.style.setProperty("--w2w-end-background-color",g.Fj(Q.surgeColor));
B.style.setProperty("--w2w-end-primary-text-color",g.Fj(Q.primaryTitleColor));B.style.setProperty("--w2w-end-secondary-text-color",g.Fj(Q.secondaryTitleColor));B.style.setProperty("--w2w-animation-duration",r+"ms")}g.S1(this.element,"ytp-w2w-animate",!0)}};
g.x.VI=function(r){this.T.K("web_autonav_color_transition")&&r!==2&&g.S1(this.element,"ytp-w2w-animate",!1)};
g.x.HF=function(){var r=this.T.YU();this.J&&this.lA!==r&&this.zt(r);la(this);this.T.logVisibility(this.container.element,r);this.T.logVisibility(this.cancelButton.element,r);this.T.logVisibility(this.j.uA("ytp-autonav-endscreen-link-container"),r);this.T.logVisibility(this.playButton.element,r)};
g.x.lz=function(r){return r.width<400||r.height<459};g.p(ne,g.d);g.x=ne.prototype;g.x.create=function(){this.created=!0};
g.x.destroy=function(){this.created=!1};
g.x.QG=function(){return!1};
g.x.YU=function(){return!1};
g.x.m_=function(){return!1};g.p(Af,g.d);g.x=Af.prototype;g.x.xo=function(){this.notification&&(this.W.stop(),this.wV(this.S),this.S=null,this.notification.close(),this.notification=null)};
g.x.EO=function(r){this.suggestion=r;g.K2(this,r,"hqdefault.jpg")};
g.x.N9=function(){this.zt(this.api.YU());this.api.logVisibility(this.element,this.api.YU());this.api.logVisibility(this.uA("ytp-upnext-autoplay-icon"),this.api.YU());this.cancelButton&&this.api.logVisibility(this.cancelButton.element,this.api.YU())};
g.x.tRm=function(){window.focus();this.xo()};
g.x.z6=function(r){var Q=this;this.Ys()||(g.Rz("a11y-announce","Up Next "+this.suggestion.title),this.V=(0,g.xa)(),this.j=new g.D9(function(){ClO(Q,r)},25),ClO(this,r),DXs(this.api,HiI(this,r)));
g.re(this.element,"ytp-upnext-autoplay-paused")};
g.x.hide=function(){g.d.prototype.hide.call(this)};
g.x.Ys=function(){return!!this.j};
g.x.YY=function(){this.Gu();this.V=(0,g.xa)();ClO(this);g.cP(this.element,"ytp-upnext-autoplay-paused")};
g.x.Gu=function(){this.Ys()&&(this.j.dispose(),this.j=null)};
g.x.select=function(r){r=r===void 0?!1:r;if(this.api.D().K("autonav_notifications")&&r&&window.Notification&&typeof document.hasFocus==="function"){var Q=Notification.permission;Q==="default"?Notification.requestPermission():Q!=="granted"||document.hasFocus()||(this.xo(),this.notification=new Notification("Up Next",{body:this.suggestion.title,icon:this.suggestion.A0()}),this.S=this.L(this.notification,"click",this.tRm),this.W.start())}this.Gu();this.api.nextVideo(!1,r)};
g.x.Se=function(r){!g.j$(this.cancelButton.element,r.target)&&g.Ax(r,this.api)&&(this.api.YU()&&this.api.logClick(this.uA("ytp-upnext-autoplay-icon")),this.select())};
g.x.pk=function(){this.api.YU()&&this.cancelButton&&this.api.logClick(this.cancelButton.element);g.za(this.api,!0)};
g.x.YDO=function(r){this.api.getPresentingPlayerType();this.show();this.z6(r)};
g.x.UpO=function(){this.api.getPresentingPlayerType();this.Gu();this.hide()};
g.x.WO=function(){this.Gu();this.xo();g.d.prototype.WO.call(this)};g.p(YI,ne);g.x=YI.prototype;g.x.create=function(){ne.prototype.create.call(this);this.W.L(this.player,"appresize",this.mJ);this.W.L(this.player,"onVideoAreaChange",this.mJ);this.W.L(this.player,"videodatachange",this.onVideoDataChange);this.W.L(this.player,"autonavchange",this.IS);this.W.L(this.player,"onAutonavCancelled",this.WA);this.onVideoDataChange()};
g.x.show=function(){ne.prototype.show.call(this);(this.J||this.S&&this.S!==this.videoData.clientPlaybackNonce)&&g.za(this.player,!1);g.uG(this.player)&&this.QG()&&!this.S?(WL(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.j.select(!0):this.j.z6():this.videoData.autonavState===3&&this.j.YY()):(g.za(this.player,!0),WL(this));this.mJ()};
g.x.hide=function(){ne.prototype.hide.call(this);this.j.YY();WL(this)};
g.x.mJ=function(){var r=this.player.x$(!0,this.player.isFullscreen());WL(this);la(this.V);g.S1(this.element,"ytp-autonav-cancelled-small-mode",this.lz(r));g.S1(this.element,"ytp-autonav-cancelled-tiny-mode",this.SS(r));g.S1(this.element,"ytp-autonav-cancelled-mini-mode",r.width<=400||r.height<=360);this.overlay&&g.D7(this.overlay.element,{width:r.width+"px"});if(!this.Y)for(r=0;r<this.videos.length;r++)g.S1(this.videos[r].element,"ytp-suggestion-card-with-margin",r%2===1)};
g.x.onVideoDataChange=function(){var r=this.player.getVideoData();if(this.videoData!==r&&r){this.videoData=r;if((r=this.videoData.suggestions)&&r.length||this.player.K("web_player_autonav_empty_suggestions_fix")){var Q=g.nw(this.videoData);Q&&(this.j.EO(Q),this.j!==this.V&&this.V.EO(Q))}if(r&&r.length)for(Q=0;Q<kNl.length;++Q){var S=kNl[Q];if(r&&r[S]){this.videos[Q]=new ia(this.player);var B=this.videos[Q];S=r[S];B.suggestion!==S&&(B.suggestion=S,g.K2(B,S));g.u(this,this.videos[Q]);this.videos[Q].k7(this.X.element)}}this.mJ()}};
g.x.IS=function(r){r===1?(this.J=!1,this.S=this.videoData.clientPlaybackNonce,this.j.Gu(),this.lA&&this.mJ()):(this.J=!0,this.YU()&&(r===2?this.j.z6():r===3&&this.j.YY()))};
g.x.WA=function(r){r?this.IS(1):(this.S=null,this.J=!1)};
g.x.QG=function(){return this.videoData.autonavState!==1};
g.x.lz=function(r){return(r.width<910||r.height<459)&&!this.SS(r)&&!(r.width<=400||r.height<=360)};
g.x.SS=function(r){return r.width<800&&!(r.width<=400||r.height<=360)};
g.x.YU=function(){return this.lA&&g.uG(this.player)&&this.QG()&&!this.S};
var kNl=[1,3,2,4];g.p(VNM,ne);g.x=VNM.prototype;g.x.create=function(){ne.prototype.create.call(this);var r=this.player.getVideoData();r&&(this.videoData=r);this.yG();this.V.L(this.player,"appresize",this.yG);this.V.L(this.player,"onVideoAreaChange",this.yG);this.V.L(this.player,"videodatachange",this.onVideoDataChange);this.V.L(this.player,"autonavchange",this.Jo);this.V.L(this.player,"onAutonavCancelled",this.u2);r=this.videoData.autonavState;r!==this.X&&this.Jo(r);this.V.L(this.element,"transitionend",this.Gq)};
g.x.destroy=function(){g.Ej(this.V);g.aY(this.stills);this.stills=[];ne.prototype.destroy.call(this);g.re(this.element,"ytp-show-tiles");this.Y.stop();this.X=this.videoData.autonavState};
g.x.QG=function(){return this.videoData.autonavState!==1};
g.x.show=function(){var r=this.lA;ne.prototype.show.call(this);g.re(this.element,"ytp-show-tiles");this.player.D().V?g.gG(this.Y):this.Y.start();(this.W||this.S&&this.S!==this.videoData.clientPlaybackNonce)&&g.za(this.player,!1);ba(this)?(tf(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.j.select(!0):this.j.z6():this.videoData.autonavState===3&&this.j.YY()):(g.za(this.player,!0),tf(this));r!==this.lA&&this.player.logVisibility(this.element,!0)};
g.x.hide=function(){var r=this.lA;ne.prototype.hide.call(this);this.j.YY();tf(this);r!==this.lA&&this.player.logVisibility(this.element,!1)};
g.x.Gq=function(r){r.target===this.element&&this.yG()};
g.x.yG=function(){var r,Q,S,B;var k=((r=this.videoData)==null?0:(Q=r.suggestions)==null?0:Q.length)?(S=this.videoData)==null?void 0:S.suggestions:[(B=this.videoData)==null?void 0:g.nw(B)];if(k.length){Q=this.T.x$(!0,this.T.isFullscreen());r=Math.floor((Q.width-64+16)/(g.GQ(Q.width*.27,250,450)+16));Q=Math.min(3,Math.floor((Q.height-64)/((Q.width-64-(r-1)*16)/r*.5625+70)));g.QZ(this.element,["ytp-modern-endscreen-limit-rows-1","ytp-modern-endscreen-limit-rows-2","ytp-modern-endscreen-limit-rows-3"]);
g.cP(this.element,"ytp-modern-endscreen-limit-rows-"+Q);g.S1(this.element,"ytp-modern-endscreen-single-item",r===1);g.S1(this.element,"ytp-modern-endscreen-row-0",Q===0);r=this.table.element;r.ariaLive="polite";this.j.EO(g.nw(this.videoData));this.j instanceof Ke&&la(this.j);g.S1(this.element,"ytp-endscreen-takeover",ba(this));tf(this);Q=0;r.ariaBusy="true";S=k.length;for(B=0;B<S;B++){var L=B%S,X=this.stills[B];X||(X=new g.lv(this.player),this.stills[B]=X,r.appendChild(X.element));g.nPg(X,k[L]);Q++}this.stills.length=
Q}};
g.x.onVideoDataChange=function(){var r=this.player.getVideoData(1);this.videoData!==r&&(r!=null&&g.nw(r)?(this.videoData=r,this.yG()):this.player.pY("missg",{vid:(r==null?void 0:r.videoId)||"",cpn:(r==null?void 0:r.clientPlaybackNonce)||""}))};
g.x.m_=function(){return this.j.Ys()};
g.x.Jo=function(r){r===1?(this.W=!1,this.S=this.videoData.clientPlaybackNonce,this.j.Gu(),this.lA&&this.yG()):(this.W=!0,this.lA&&ba(this)&&(r===2?this.j.z6():r===3&&this.j.YY()))};
g.x.u2=function(r){if(r){for(r=0;r<this.stills.length;r++)this.T.logVisibility(this.stills[r].element,!0);this.Jo(1)}else this.S=null,this.W=!1;this.yG()};
g.x.YU=function(){return this.lA&&ba(this)};g.p(cSs,ne);cSs.prototype.vO=function(){var r=this.player.getVideoData();this.j.update({profilePicture:r.profilePicture,author:r.author});this.subscribeButton.channelId=r.fC;var Q=this.subscribeButton;r.subscribed?Q.j():Q.V()};g.p(PL,g.d);PL.prototype.select=function(){this.api.QK(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.kI||void 0)&&this.api.logClick(this.element)};
PL.prototype.onClick=function(r){if(g.GY(this.api.D())&&this.api.K("web_player_log_click_before_generating_ve_conversion_params")){this.api.logClick(this.element);var Q=this.suggestion.t3(),S={};g.qE(this.api,S);Q=g.Wn(Q,S);g.Y4(Q,this.api,r)}else g.Ax(r,this.api,this.V,this.suggestion.sessionData||void 0)&&this.select()};
PL.prototype.onKeyPress=function(r){switch(r.keyCode){case 13:case 32:r.defaultPrevented||(this.select(),r.preventDefault())}};
PL.prototype.onVideoDataChange=function(){var r=this.api.getVideoData(),Q=this.api.D();this.V=r.iU?!1:Q.W};g.p(xI,ne);g.x=xI.prototype;g.x.create=function(){ne.prototype.create.call(this);var r=this.player.getVideoData();r&&(this.videoData=r);this.Sp();this.V.L(this.player,"appresize",this.Sp);this.V.L(this.player,"onVideoAreaChange",this.Sp);this.V.L(this.player,"videodatachange",this.onVideoDataChange);this.V.L(this.player,"autonavchange",this.Z3);this.V.L(this.player,"onAutonavCancelled",this.qe);r=this.videoData.autonavState;r!==this.C&&this.Z3(r);this.V.L(this.element,"transitionend",this.k9)};
g.x.destroy=function(){g.Ej(this.V);g.aY(this.stills);this.stills=[];ne.prototype.destroy.call(this);g.re(this.element,"ytp-show-tiles");this.J.stop();this.C=this.videoData.autonavState};
g.x.QG=function(){return this.videoData.autonavState!==1};
g.x.show=function(){var r=this.lA;ne.prototype.show.call(this);g.re(this.element,"ytp-show-tiles");this.player.D().V?g.gG(this.J):this.J.start();(this.Y||this.W&&this.W!==this.videoData.clientPlaybackNonce)&&g.za(this.player,!1);jd(this)?(pe(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.j.select(!0):this.j.z6():this.videoData.autonavState===3&&this.j.YY()):(g.za(this.player,!0),pe(this));r!==this.lA&&this.player.logVisibility(this.element,!0)};
g.x.hide=function(){var r=this.lA;ne.prototype.hide.call(this);this.j.YY();pe(this);r!==this.lA&&this.player.logVisibility(this.element,!1)};
g.x.k9=function(r){r.target===this.element&&this.Sp()};
g.x.Sp=function(){var r,Q,S,B;var k=((r=this.videoData)==null?0:(Q=r.suggestions)==null?0:Q.length)?(S=this.videoData)==null?void 0:S.suggestions:[(B=this.videoData)==null?void 0:g.nw(B)];if(k.length){g.cP(this.element,"ytp-endscreen-paginate");var L=this.T.x$(!0,this.T.isFullscreen());if(r=g.mw(this.T))r=r.Ym()?48:32,L.width-=r*2;var X=L.width/L.height;B=96/54;Q=r=2;var l=Math.max(L.width/96,2),n=Math.max(L.height/54,2);S=k.length;var A=S*4;for(A-=4;A>0&&(r<l||Q<n);){var Y=r/2,W=Q/2,b=r<=l-2&&A>=
W*4,t=Q<=n-2&&A>=Y*4;if((Y+1)/W*B/X>X/(Y/(W+1)*B)&&t)A-=Y*4,Q+=2;else if(b)A-=W*4,r+=2;else if(t)A-=Y*4,Q+=2;else break}B=!1;A>=12&&S*4-A<=6&&(Q>=4||r>=4)&&(B=!0);A=r*96;l=Q*54;X=A/l<X?L.height/l:L.width/A;X=Math.min(X,2);A=Math.floor(Math.min(L.width,A*X));l=Math.floor(Math.min(L.height,l*X));L=this.table.element;L.ariaLive="polite";g.cy(L,A,l);g.D7(L,{marginLeft:A/-2+"px",marginTop:l/-2+"px"});this.j.EO(g.nw(this.videoData));this.j instanceof Ke&&la(this.j);g.S1(this.element,"ytp-endscreen-takeover",
jd(this));pe(this);A+=4;l+=4;X=0;L.ariaBusy="true";for(n=0;n<r;n++)for(Y=0;Y<Q;Y++)if(W=X,t=0,B&&n>=r-2&&Y>=Q-2?t=1:Y%2===0&&n%2===0&&(Y<2&&n<2?Y===0&&n===0&&(t=2):t=2),W=g.uK(W+this.S,S),t!==0){b=this.stills[X];b||(b=new PL(this.player),this.stills[X]=b,L.appendChild(b.element));var P=Math.floor(l*Y/Q),T=Math.floor(A*n/r),w=Math.floor(l*(Y+t)/Q)-P-4,M=Math.floor(A*(n+t)/r)-T-4;g.RQ(b.element,T,P);g.cy(b.element,M,w);g.D7(b.element,"transitionDelay",(Y+n)/20+"s");g.S1(b.element,"ytp-videowall-still-mini",
t===1);g.S1(b.element,"ytp-videowall-still-large",t>2);t=Math.max(M,w);g.S1(b.element,"ytp-videowall-still-round-large",t>=256);g.S1(b.element,"ytp-videowall-still-round-medium",t>96&&t<256);g.S1(b.element,"ytp-videowall-still-round-small",t<=96);W=k[W];b.suggestion!==W&&(b.suggestion=W,t=b.api.D(),P=g.VP(b.element,"ytp-videowall-still-large")?"hqdefault.jpg":"mqdefault.jpg",g.K2(b,W,P),g.GY(t)&&!b.api.K("web_player_log_click_before_generating_ve_conversion_params")&&(t=W.t3(),P={},g.PE(b.api,"addEmbedsConversionTrackingParams",
[P]),t=g.Wn(t,P),b.updateValue("url",t)),(W=(W=W.sessionData)&&W.itct)&&b.api.setTrackingParams(b.element,W));X++}L.ariaBusy="false";g.S1(this.element,"ytp-endscreen-paginate",X<S);for(k=this.stills.length-1;k>=X;k--)r=this.stills[k],g.xx(r.element),g.cn(r);this.stills.length=X}};
g.x.onVideoDataChange=function(){var r=this.player.getVideoData(1);this.videoData!==r&&(r!=null&&g.nw(r)?(this.S=0,this.videoData=r,this.Sp()):this.player.pY("missg",{vid:(r==null?void 0:r.videoId)||"",cpn:(r==null?void 0:r.clientPlaybackNonce)||""}))};
g.x.yI=function(){this.S+=this.stills.length;this.Sp()};
g.x.Fj=function(){this.S-=this.stills.length;this.Sp()};
g.x.m_=function(){return this.j.Ys()};
g.x.Z3=function(r){r===1?(this.Y=!1,this.W=this.videoData.clientPlaybackNonce,this.j.Gu(),this.lA&&this.Sp()):(this.Y=!0,this.lA&&jd(this)&&(r===2?this.j.z6():r===3&&this.j.YY()))};
g.x.qe=function(r){if(r){for(r=0;r<this.stills.length;r++)this.T.logVisibility(this.stills[r].element,!0);this.Z3(1)}else this.W=null,this.Y=!1;this.Sp()};
g.x.YU=function(){return this.lA&&jd(this)};g.p(atZ,g.d);g.x=atZ.prototype;g.x.iy=function(){switch(this.buttonType){case 1:var r="Watch again on YouTube";var Q=156915;break;case 2:r="Continue watching on YouTube";Q=156942;break;default:r="Continue watching on YouTube",Q=156942}this.update({content:r});this.T.hasVe(this.element)&&this.T.destroyVe(this.element);this.T.createClientVe(this.element,this,Q)};
g.x.onClick=function(r){this.T.K("web_player_log_click_before_generating_ve_conversion_params")&&this.T.logClick(this.element);g.Y4(this.getVideoUrl(),this.T,r);this.T.K("web_player_log_click_before_generating_ve_conversion_params")||this.T.logClick(this.element)};
g.x.getVideoUrl=function(){var r=!0;switch(this.buttonType){case 1:r=!0;break;case 2:r=!1}r=this.T.getVideoUrl(r,!1,!1,!0);var Q=this.T.D();if(g.GY(Q)){var S={};g.GY(Q)&&g.PE(this.T,"addEmbedsConversionTrackingParams",[S]);r=g.Wn(r,S)}return r};
g.x.logVisibility=function(){this.T.logVisibility(this.element,this.lA&&this.U)};
g.x.show=function(){g.d.prototype.show.call(this);this.logVisibility()};
g.x.hide=function(){g.d.prototype.hide.call(this);this.logVisibility()};
g.x.hX=function(r){g.d.prototype.hX.call(this,r);this.logVisibility()};g.p(Eo,ne);Eo.prototype.hasSuggestions=function(){var r;return(r=this.j)==null?void 0:r.hasSuggestions()};
Eo.prototype.show=function(){if(this.player.getPlayerState()!==3){ne.prototype.show.call(this);var r=this.V;if(r){var Q=this.j.hasSuggestions();g.S1(this.element,"ytp-shorts-branded-ui",Q);Q?r.show():r.hide()}var S;(S=g.mw(this.player))==null||S.Jm(!0);this.player.logVisibility(this.element,!0);this.watchButton.hX(!0)}};
Eo.prototype.hide=function(){ne.prototype.hide.call(this);var r;(r=g.mw(this.player))==null||r.Jm(!1);this.player.logVisibility(this.element,!1);this.watchButton.hX(!1)};g.p(BJZ,g.mN);g.x=BJZ.prototype;g.x.Be=function(){var r=this.player.getVideoData(),Q=r.mutedAutoplay&&(r.limitedPlaybackDurationInSeconds>0||r.endSeconds>0||r.mutedAutoplayDurationMode!==2);if(this.player.isEmbedsShortsMode()&&!Q)return!0;var S;var B=!!((r==null?0:g.nw(r))||(r==null?0:(S=r.suggestions)==null?0:S.length));B=!rmg(this.player)||B;r=r.Nz;S=this.player.wJ();return B&&!r&&!S&&!Q};
g.x.YU=function(){return this.endScreen.YU()};
g.x.AU=function(){return this.YU()?this.endScreen.m_():!1};
g.x.WO=function(){this.player.Ya("endscreen");g.mN.prototype.WO.call(this)};
g.x.load=function(){var r=this.player.getVideoData();var Q=r.transitionEndpointAtEndOfStream;if(Q&&Q.videoId){var S=this.player.SR().MM.get("heartbeat"),B=g.nw(r);!B||Q.videoId!==B.videoId||r.x0?(this.player.QK(Q.videoId,void 0,void 0,!0,!0,Q),S&&S.UM("HEARTBEAT_ACTION_TRIGGER_AT_STREAM_END","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT"),r=!0):r=!1}else r=!1;r||(g.mN.prototype.load.call(this),this.endScreen.show())};
g.x.unload=function(){g.mN.prototype.unload.call(this);this.endScreen.hide();this.endScreen.destroy()};
g.x.onCueRangeEnter=function(r){this.Be()&&(this.endScreen.created||this.endScreen.create(),r.getId()==="load"&&this.load())};
g.x.onCueRangeExit=function(r){r.getId()==="load"&&this.loaded&&this.unload()};
g.x.onVideoDataChange=function(){SRZ(this);this.S&&Q5n(this)&&(this.endScreen&&(this.endScreen.hide(),this.endScreen.created&&this.endScreen.destroy(),this.endScreen.dispose()),this.j?this.endScreen=new YI(this.player):this.endScreen=new xI(this.player),g.u(this,this.endScreen),g.Ga(this.player,this.endScreen.element,4))};g.E2("endscreen",BJZ);})(_yt_player);
